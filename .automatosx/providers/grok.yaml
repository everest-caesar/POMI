# Grok Provider Configuration (X.AI Official)
#
# This is the default configuration for X.AI's official Grok model.
# Copy this file to .automatosx/providers/grok.yaml and add your API key.
#
# Quick Start:
#   1. Copy: cp teREmplates/providers/grok.yaml.template .automatosx/providers/grok.yaml
#   2. Get API key from https://x.ai/api
#   3. Add your key to the file (replace YOUR_X_AI_API_KEY_HERE)
#   4. Test: ax doctor grok

provider:
  # Provider identification
  name: grok
  enabled: true
  priority: 4  # Default: lowest priority (fallback after claude, gemini, openai)

  # X.AI Official Grok API
  baseUrl: https://api.x.ai/v1
  model: grok-3-fast
  apiKey: 3c073fcc04b44399a40c3c0adedd761d.lWHkwRjTNtZ1FevX  # Replace with your X.AI API key

  # Performance settings
  timeout: 180000  # 3 minutes
  maxRetries: 3

# Rate limiting
rateLimits:
  maxRequestsPerMinute: 60
  maxTokensPerMinute: 200000
  maxConcurrentRequests: 5

# Circuit breaker (prevent cascading failures)
circuitBreaker:
  failureThreshold: 3
  resetTimeout: 60000
  halfOpenTimeout: 30000

# Metadata
metadata:
  version: "1.0.0"
  description: "X.AI Official Grok configuration"
  tags:
    - grok
    - x-ai
    - grok-3-fast
  lastUpdated: "2025-11-17T00:00:00Z"

# Alternative Configuration: Z.AI GLM 4.6 (Chinese Free Tier)
#
# Uncomment the section below to use Z.AI's GLM 4.6 instead of X.AI Grok:
#
# provider:
#   name: grok
#   enabled: true
#   priority: 2  # Higher priority for free tier
#   baseUrl: https://api.z.ai/api/coding/paas/v4
#   model: glm-4.6
#   apiKey: YOUR_Z_AI_API_KEY_HERE
#   timeout: 120000
#   maxRetries: 3
#
# To use Z.AI:
#   1. Get API key from https://z.ai
#   2. Set environment variable: export GROK_BASE_URL="https://api.z.ai/api/coding/paas/v4"
#   3. Set model in provider section above: model: glm-4.6
#
# Z.AI is optimized for:
#   - Code generation
#   - Free tier usage
#   - Chinese language support
